(this["webpackJsonpmanager-app-react"]=this["webpackJsonpmanager-app-react"]||[]).push([[0],{28:function(e,t,a){},39:function(e,t,a){"use strict";a.r(t);var r=a(1),n=a(22),c=a.n(n),s=(a(28),a(3)),o=function(){var e=Object(r.useState)(!1),t=Object(s.a)(e,2),a=t[0],n=t[1],c=Object(r.useState)({text:"",icon:""}),o=Object(s.a)(c,2),i=o[0],l=o[1];return{notificationIsShow:a,notificationContent:i,showNotificationHandler:function(){n(!0)},hideNotificationHandler:function(){n(!1)},notificationContentHandler:function(e){l(e)}}},i=a(5),l=a(6),u=a(0),d=function(e){var t=e.notificationContent;return Object(u.jsxs)("div",{className:"notification",children:[Object(u.jsx)("div",{className:"notification__action",children:Object(u.jsx)("i",{className:t.icon})}),Object(u.jsx)("div",{className:"notifation__body",children:Object(u.jsx)("div",{className:"notification__message",children:Object(u.jsx)("p",{children:t.text})})})]})},p=a(7),m=a(17),j=function(e){var t=Object(r.useState)(e),a=Object(s.a)(t,2),n=a[0],c=a[1],o=Object(r.useState)(!1),i=Object(s.a)(o,2),l=i[0],u=i[1];return{formValues:n,handleInputChange:function(e){var t=e.target,a=t.name,r=t.value;c((function(e){return u(!0),Object(p.a)(Object(p.a)({},e),{},Object(m.a)({},a,r))}))},reset:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e;c(t)},customValidator:Object(r.useCallback)((function(e){var t=!0;return e.required&&(t=t&&0!==e.value.toString().trim().length),"email"===e.type&&(t=t&&e.value.toString().trim().includes("@")),null!=e.minLength&&"string"===typeof e.value&&(t=t&&e.value.length>e.minLength),null!=e.maxLength&&"string"===typeof e.value&&(t=t&&e.value.length<e.maxLength),null!=e.min&&"number"===typeof e.value&&(t=t&&e.value>e.min),null!=e.max&&"number"===typeof e.value&&(t=t&&e.value<e.max),e.valueCompare&&(t=t&&e.valueCompare===e.value),t}),[]),typing:l,setTyping:u}},f=a(2),b=a.n(f),h=a(4),O={text:"Succesfully Logged In",icon:"far fa-check-circle"},v={text:"Succesfully registered",icon:"far fa-check-circle"},x={text:"Activating Super Security!!",icon:"fas fa-sync fa-spin"},g={text:"there was a problem",icon:"fas fa-exclamation-circle"},_=Object(r.createContext)({isLoggedIn:!1,user:{},onLogout:function(){},onLogin:function(e,t){},onRegister:function(e,t,a,r){},onCheckToken:function(){}}),w=function(e){var t=e.children,a=e.onShowNotification,n=e.onHideNotification,c=e.onNotificationContent,o={authHTTP:Object(r.useCallback)(function(){var e=Object(h.a)(b.a.mark((function e(t){var a,r,n,c,s,o,i=arguments;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=i.length>1&&void 0!==i[1]?i[1]:"login",r=i.length>2&&void 0!==i[2]?i[2]:"POST",n="https://manager-app-v2.herokuapp.com/api/todoapp/v1/auth",e.prev=3,c={method:r,body:null===t?null:JSON.stringify(t),headers:{Accept:"application/json, text/plain, */*","Content-Type":"application/json",Authorization:"checkToken"===a&&"GET"===r?localStorage.getItem("reactBearer"):""}},e.next=7,fetch("".concat(n,"/").concat(a),c);case 7:return s=e.sent,e.next=10,s.json();case 10:return o=e.sent,e.abrupt("return",o);case 14:e.prev=14,e.t0=e.catch(3),console.warn(e.t0);case 17:case"end":return e.stop()}}),e,null,[[3,14]])})));return function(t){return e.apply(this,arguments)}}(),[])}.authHTTP,i=Object(r.useState)(!1),l=Object(s.a)(i,2),d=l[0],p=l[1],m=Object(r.useState)({}),j=Object(s.a)(m,2),f=j[0],w=j[1],N=function(){var e=Object(h.a)(b.a.mark((function e(t,r){var s,i;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("patata"),a(),c(x),e.next=5,o({email:t,password:r},"login");case 5:s=e.sent,console.log(s);try{"success"===s.status&&(c(O),i={role:s.user.role,active:s.user.active,_id:s.user._id,name:s.user.name,email:s.user.email,img:s.user.img},w(i),setTimeout((function(){n(),p(!0)}),2500),localStorage.setItem("reactBearer","Bearer ".concat(s.token))),"fail"===s.status&&(c(g),setTimeout((function(){n()}),2500))}catch(l){console.log(l)}case 8:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),k=function(){var e=Object(h.a)(b.a.mark((function e(t,r,s,i){var l,u;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a(),c(x),e.next=4,o({name:t,email:r,password:s,passwordConfirm:i},"register");case 4:"success"===(l=e.sent).status&&(c(v),u={role:l.newUser.role,active:l.newUser.active,_id:l.newUser._id,name:l.newUser.name,email:l.newUser.email,img:l.newUser.img},w(u),setTimeout((function(){n(),p(!0)}),2500),localStorage.setItem("reactBearer","Bearer ".concat(l.token))),"fail"===l.status&&(c(g),setTimeout((function(){n()}),2500));case 7:case"end":return e.stop()}}),e)})));return function(t,a,r,n){return e.apply(this,arguments)}}(),y=function(){var e=Object(h.a)(b.a.mark((function e(){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,o(null,"logout","GET");case 3:"success"===e.sent.status&&(localStorage.setItem("reactBearer","logout"),localStorage.removeItem("lastPath"),p(!1)),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.warn(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),C=Object(r.useCallback)(Object(h.a)(b.a.mark((function e(){var t,a,r,n,c,s,i,l;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o(null,"checkToken","GET");case 2:"success"===(t=e.sent).status?(a=t.user,r=a._id,n=a.email,c=a.name,s=a.active,i=a.role,l=a.img,w({role:i,active:s,_id:r,name:c,email:n,img:l}),p(!0)):(p(!1),localStorage.setItem("reactBearer","logout"),w({}));case 4:case"end":return e.stop()}}),e)}))),[o]);return Object(u.jsx)(_.Provider,{value:{isLoggedIn:d,onLogout:y,onLogin:N,onRegister:k,user:f,onCheckToken:C},children:t})},N=function(e){var t=e.history,a=Object(r.useContext)(_).onLogin,n=Object(r.useState)(!1),c=Object(s.a)(n,2),o=c[0],l=c[1],d=Object(r.useState)(!1),m=Object(s.a)(d,2),f=m[0],b=m[1],h=Object(r.useState)(!1),O=Object(s.a)(h,2),v=O[0],x=O[1],g=Object(r.useState)(!1),w=Object(s.a)(g,2),N=w[0],k=w[1],y=Object(r.useState)({isValid:!1,leftIntput:!1}),C=Object(s.a)(y,2),T=C[0],S=C[1],L=j({email:"",password:""}),I=L.formValues,P=L.handleInputChange,E=L.customValidator,V=L.typing,A=L.setTyping,D=I.email,q=I.password,R=Object(r.useRef)(null),H=Object(r.useRef)(null),F=Object(r.useMemo)((function(){return{value:q,required:!0,minLength:4,maxLength:15}}),[q]),W=Object(r.useMemo)((function(){return{value:D,required:!0,type:"email",min:3}}),[D]);Object(r.useEffect)((function(){V&&S((function(e){return Object(p.a)(Object(p.a)({},e),{},{isValid:!1})}));var e=setTimeout((function(){E(W)&&!0===V&&(l(!0),x(!0)),E(F)&&!0===V&&(b(!0),k(!0))}),500);return function(){clearTimeout(e)}}),[D,q,W,F,E,V]);var B=function(e){var t=e.target.name,a=!1;return"email"===t&&(a=E(W),l(a),A(!0),x(!0)),"password"===t&&(a=E(F),b(a),A(!0),k(!0)),a};Object(r.useEffect)((function(){R.current.disabled=!1}),[D,q]);return Object(u.jsxs)("div",{className:"auth-card",children:[Object(u.jsxs)("form",{ref:H,onSubmit:function(e){if(e.preventDefault(),R.current.disabled=!0,!o||!f)return R.current.disabled=!1,void S((function(e){return Object(p.a)(Object(p.a)({},e),{},{isValid:!0})}));a(D,q),t.replace("/manager-app/home/overview")},autoComplete:"off",className:"auth-card__form",children:[Object(u.jsx)("h2",{className:"heading-secondary u-margin-bottom-small u-margin-top",children:"Manager-App"}),Object(u.jsxs)("div",{className:"auth-card__form__group",children:[Object(u.jsx)("input",{name:"email",value:D,onBlur:B,className:"auth-card__form__input ".concat(!o&&V&&v||T.isValid&&!o?"auth__error--input":""),type:"email",onChange:P,placeholder:"Email Address",id:"email"}),Object(u.jsx)("label",{htmlFor:"email",className:"auth-card__form__label",children:"Email Address"})]}),Object(u.jsxs)("div",{className:"auth-card__form__group",children:[Object(u.jsx)("input",{name:"password",value:q,onChange:P,onBlur:B,className:"auth-card__form__input ".concat(!f&&V&&N||T.isValid&&!f?"auth__error--input":""),type:"password",placeholder:"password",id:"password"}),Object(u.jsx)("label",{htmlFor:"password",className:"auth-card__form__label",children:"Password"})]}),Object(u.jsx)("div",{className:"auth-card__form__group",children:Object(u.jsx)("button",{ref:R,className:"btn btn--red",type:"submit",children:" Log in "})}),Object(u.jsxs)("div",{className:"auth-card__form__group u-margin-bottom-small authLink",children:[Object(u.jsx)("p",{className:"paragraph u-center-text",children:"Don't you have an account?"}),Object(u.jsx)(i.c,{activeClassName:"spanStyle",to:"/auth/register",className:"paragraph u-center-text",children:" Register Now "})]})]}),Object(u.jsx)("div",{className:"auth-card__icon-box log",children:Object(u.jsx)("i",{className:"fab fa-react auth-card__icon"})})]})},k=function(){var e=Object(r.useContext)(_).onRegister,t=Object(r.useState)({isValid:!1,leftInput:!1}),a=Object(s.a)(t,2),n=a[0],c=a[1],o=Object(r.useState)({isValid:!1,leftInput:!1}),l=Object(s.a)(o,2),d=l[0],m=l[1],f=Object(r.useState)({isValid:!1,leftInput:!1}),b=Object(s.a)(f,2),h=b[0],O=b[1],v=Object(r.useState)({isValid:!1,leftInput:!1}),x=Object(s.a)(v,2),g=x[0],w=x[1],N=Object(r.useState)({isValid:!1,leftIntput:!1}),k=Object(s.a)(N,2),y=k[0],C=k[1],T=j({name:"",email:"",password:"",passwordConfirm:""}),S=T.formValues,L=T.handleInputChange,I=T.customValidator,P=T.typing,E=T.setTyping,V=S.name,A=S.email,D=S.password,q=S.passwordConfirm,R=Object(r.useMemo)((function(){return{value:V,required:!0,minLength:4}}),[V]),H=Object(r.useMemo)((function(){return{value:A,required:!0,type:"email",minLength:3}}),[A]),F=Object(r.useMemo)((function(){return{value:D,required:!0,minLength:4,maxLength:15}}),[D]),W=Object(r.useMemo)((function(){return{value:q,valueCompare:D,required:!0,minLength:4,maxLength:15}}),[q,D]),B=function(e){var t=e.target.name,a=!1;return"name"===t&&(a=I(R),c((function(e){return{leftInput:!0,isValid:a}})),E(!0)),"email"===t&&(a=I(H),m((function(e){return{leftInput:!0,isValid:a}})),E(!0)),"password"===t&&(a=I(F),O((function(e){return{leftInput:!0,isValid:a}})),E(!0)),"passwordConfirm"===t&&(a=I(W),w((function(e){return{leftInput:!0,isValid:a}})),E(!0)),a};Object(r.useEffect)((function(){P&&C((function(e){return Object(p.a)(Object(p.a)({},e),{},{isValid:!1})}));var e=setTimeout((function(){I(R)&&!0===P&&c((function(e){return{leftInput:!0,isValid:!0}})),I(H)&&!0===P&&m((function(e){return{leftInput:!0,isValid:!0}})),I(F)&&!0===P&&O((function(e){return{leftInput:!0,isValid:!0}})),I(W)&&!0===P&&w((function(e){return{leftInput:!0,isValid:!0}}))}),500);return function(){clearTimeout(e)}}),[A,D,V,q,I,P,F,H,R,W]);return Object(u.jsxs)("div",{className:"auth-card",children:[Object(u.jsxs)("form",{onSubmit:function(t){t.preventDefault(),n.isValid&&d.isValid&&h.isValid&&g.isValid?e(V,A,D,q):C((function(e){return Object(p.a)(Object(p.a)({},e),{},{isValid:!0})}))},autoComplete:"off",className:"auth-card__form auth-card--register",children:[Object(u.jsx)("h2",{className:"heading-secondary u-margin-bottom-small u-margin-top",children:"Manager-App"}),Object(u.jsxs)("div",{className:"auth-card__form__group ",children:[Object(u.jsx)("input",{onChange:L,onBlur:B,type:"text",className:"auth-card__form__input ".concat(n.leftInput&&!n.isValid&&P||y.isValid&&!n.isValid?"auth__error--input":""),placeholder:"Name",name:"name",value:V,id:"name"}),Object(u.jsx)("label",{htmlFor:"name",className:"auth-card__form__label",children:"Name"})]}),Object(u.jsxs)("div",{className:"auth-card__form__group",children:[Object(u.jsx)("input",{onChange:L,onBlur:B,type:"email",value:A,className:"auth-card__form__input ".concat(!d.isValid&&d.leftInput&&P||y.isValid&&!d.isValid?"auth__error--input":""),name:"email",placeholder:"Email Address",id:"email"}),Object(u.jsx)("label",{htmlFor:"email",className:"auth-card__form__label",children:"Email Address"})]}),Object(u.jsxs)("div",{className:"auth-card__form__group",children:[Object(u.jsx)("input",{onChange:L,onBlur:B,type:"password",className:"auth-card__form__input ".concat(!h.isValid&&h.leftInput&&P||y.isValid&&!h.isValid?"auth__error--input":""),placeholder:"Password",name:"password",value:D,id:"password"}),Object(u.jsx)("label",{htmlFor:"password",className:"auth-card__form__label",children:"Password"})]}),Object(u.jsxs)("div",{className:"auth-card__form__group",children:[Object(u.jsx)("input",{onChange:L,onBlur:B,type:"password",className:"auth-card__form__input ".concat(!g.isValid&&g.leftInput&&P||y.isValid&&!g.isValid?"auth__error--input":""),placeholder:"Confirm Password",value:q,name:"passwordConfirm",id:"passwordConfirm"}),Object(u.jsx)("label",{htmlFor:"passwordConfirm",className:"auth-card__form__label",children:"Confirm Password"})]}),Object(u.jsx)("div",{className:"auth-card__form__group",children:Object(u.jsx)("button",{className:"btn btn--red",type:"submit",children:" Sign In "})}),Object(u.jsxs)("div",{className:"auth-card__form__group u-margin-bottom-small authLink",children:[Object(u.jsx)("p",{className:"paragraph u-center-text",children:"Already registered?"}),Object(u.jsx)(i.c,{activeClassName:"spanStyle",to:"/auth/login",className:"paragraph u-center-text ",children:" Log in "})]})]}),Object(u.jsx)("div",{className:"auth-card__icon-box",children:Object(u.jsx)("i",{className:"fab fa-react auth-card__icon"})})]})},y=function(){return Object(u.jsxs)("div",{className:"section__auth",children:[Object(u.jsx)(l.b,{path:"/auth/login",component:N}),Object(u.jsx)(l.b,{path:"/auth/register",component:k})]})},C=function(){return{managerHTTP:Object(r.useCallback)(function(){var e=Object(h.a)(b.a.mark((function e(t,a){var r,n,c,s,o,i=arguments;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=i.length>2&&void 0!==i[2]?i[2]:"GET",n="https://manager-app-v2.herokuapp.com/api/todoapp/v1",e.prev=2,c={method:r,body:null===t?null:JSON.stringify(t),headers:{Accept:"application/json, text/plain, */*","Content-Type":"application/json",Authorization:localStorage.getItem("reactBearer")}},e.next=6,fetch("".concat(n,"/").concat(a),c);case 6:return s=e.sent,e.next=9,s.json();case 9:return o=e.sent,e.abrupt("return",o);case 13:throw e.prev=13,e.t0=e.catch(2),e.t0;case 16:case"end":return e.stop()}}),e,null,[[2,13]])})));return function(t,a){return e.apply(this,arguments)}}(),[])}},T=Object(r.createContext)({workspaces:[],onGetWorkspaces:function(){},onCreateWorkspaces:function(e){},onSetTheme:function(){},onCheckTokenManager:function(){}}),S=function(e){var t=e.children,a=C().managerHTTP,n=Object(r.useState)([]),c=Object(s.a)(n,2),o=c[0],i=c[1],l=Object(r.useCallback)(Object(h.a)(b.a.mark((function e(){var t;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a(null,"workspace","GET");case 2:t=e.sent,i(t.workspace);case 4:case"end":return e.stop()}}),e)}))),[a]),d=function(){var e=Object(h.a)(b.a.mark((function e(t){var r,n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r={title:t.title,img:t.img},e.next=3,a(r,"workspace","POST");case 3:n=e.sent,i(n.workspace);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),p=function(){var e=Object(h.a)(b.a.mark((function e(){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),m=function(){var e=Object(h.a)(b.a.mark((function e(){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(u.jsx)(T.Provider,{value:{workspaces:o,onGetWorkspaces:l,onCreateWorkspaces:d,onSetTheme:p,onCheckTokenManager:m},children:t})},L=a.p+"static/media/user-img-default.77d7ec1d.png",I=function(){var e=Object(r.useContext)(_),t=e.onLogout,a=e.user;return Object(u.jsxs)("nav",{className:"navbar",children:[Object(u.jsxs)("div",{className:"navbar__logo-box",children:[Object(u.jsx)(i.b,{to:"/manager-app/home/overview",className:"navbar__link",children:Object(u.jsx)("i",{className:"navbar__logo fab fa-pied-piper-square"})}),Object(u.jsx)("div",{className:"workspace__name",children:Object(u.jsx)("span",{children:a.name})})]}),Object(u.jsxs)("div",{className:"navbar__list",children:[Object(u.jsx)(i.c,{className:"navbar__list-item",activeClassName:"active-link-nav",to:"/manager-app/home/overview",children:Object(u.jsx)("i",{className:"navbar__list-item-icon--logout fas fa-home"})}),Object(u.jsx)(i.c,{className:"navbar__list-item",activeClassName:"active-link-nav",to:"",children:Object(u.jsx)("i",{className:"navbar__list-item-icon--settings fas fa-edit"})}),Object(u.jsx)(i.c,{className:"navbar__list-item",activeClassName:"active-link-nav",to:"/manager-app/profile",children:Object(u.jsx)("img",{className:"navbar__list-item-user-photo",src:a.img?a.img:L,alt:"profile"})}),Object(u.jsx)(i.c,{onClick:t,className:"navbar__list-item",activeClassName:"active-link-nav",to:"/auth/login",children:Object(u.jsx)("i",{className:"navbar__list-item-icon--logout fas fa-sign-out-alt"})})]})]})},P=function(e){var t=e.history,a=e.addWorkspace,n=Object(r.useRef)(null),c=Object(r.useRef)(null),o=Object(r.useState)(!1),i=Object(s.a)(o,2),l=i[0],d=i[1],p=Object(r.useState)("iksgsorgjrltr65cs8gq"),m=Object(s.a)(p,2),j=m[0],f=m[1],b=function(e){var t;null===(t=c.current)||void 0===t||t.childNodes.forEach((function(t){var a=t;if(a.classList.remove("selectedCard"),a.id===e)return a.classList.add("selectedCard")}))};return Object(u.jsxs)("div",{className:"grid__add",children:[Object(u.jsx)("div",{className:"grid__heading",children:Object(u.jsx)("h2",{children:"CREATE A WORKSPACE"})}),Object(u.jsx)("div",{className:"add__form",children:Object(u.jsxs)("form",{onSubmit:function(e){var r;if(e.preventDefault(),d(!1),(null===(r=n.current)||void 0===r?void 0:r.value.trim().length)>2){var c={title:n.current.value,img:j};a(c),t.push("/manager-app/home/overview")}else d(!0)},className:"workspace-form",children:[Object(u.jsxs)("div",{className:"form-group",children:[Object(u.jsx)("input",{ref:n,type:"text",name:"title",id:"title",autoFocus:!0,className:"workspace-form__title-input"}),Object(u.jsx)("label",{htmlFor:"title",className:"workspace-form__title-label"}),l&&Object(u.jsx)("p",{className:"error-form",children:" The name is required "})]}),Object(u.jsxs)("div",{className:"form-group",children:[Object(u.jsx)("p",{className:"workspace-form__title-label",children:"Select a theme"}),Object(u.jsxs)("ul",{ref:c,onClick:function(e){var t=e.target.closest(".workspace-card");f(t.getAttribute("data-theme")),b(t.id)},className:"grid__workspace grid__workspace--add",children:[Object(u.jsx)("li",{id:"iksgsorgjrltr65cs8gq","data-theme":"https://res.cloudinary.com/dlm1qwk4g/image/upload/v1617284918/iksgsorgjrltr65cs8gq.jpg",className:"workspace-card workspace-card--1"}),Object(u.jsx)("li",{id:"ogjwagrcqyvf4xcphg64","data-theme":"https://res.cloudinary.com/dlm1qwk4g/image/upload/v1617284917/ogjwagrcqyvf4xcphg64.jpg",className:"workspace-card workspace-card--2"}),Object(u.jsx)("li",{id:"vg4ti2cc9b23yzyvxkom","data-theme":"https://res.cloudinary.com/dlm1qwk4g/image/upload/v1617284917/vg4ti2cc9b23yzyvxkom.jpg",className:"workspace-card workspace-card--3"}),Object(u.jsx)("li",{id:"epdqoodzp24aecddjcjf","data-theme":"https://res.cloudinary.com/dlm1qwk4g/image/upload/v1617284917/epdqoodzp24aecddjcjf.jpg",className:"workspace-card workspace-card--4"}),Object(u.jsx)("li",{id:"dj3mofltuo74qnjcfsgj","data-theme":"https://res.cloudinary.com/dlm1qwk4g/image/upload/v1617284917/dj3mofltuo74qnjcfsgj.jpg",className:"workspace-card workspace-card--5"}),Object(u.jsx)("li",{id:"hdcfionelybyd10nexrw","data-theme":"https://res.cloudinary.com/dlm1qwk4g/image/upload/v1617284917/hdcfionelybyd10nexrw.jpg",className:"workspace-card workspace-card--6"})]})]}),Object(u.jsx)("button",{className:"btn btn--red btn--add",children:"CREATE WORKSPACE"})]})})]})},E=a(12),V=function(e){var t=e.title,a=e.id,r=e.img;return Object(u.jsxs)(i.b,{to:"/manager-app/workspace/"+a,id:a,className:"workspace-card",children:[Object(u.jsx)("span",{className:"workspace-card__title",children:t}),Object(u.jsx)("img",{src:r,className:"workspace-card__img",alt:"back"})]})},A=function(e){var t=e.workspaces,a=Object(r.useState)(""),n=Object(s.a)(a,2),c=n[0],o=n[1],i=Object(r.useState)(!1),l=Object(s.a)(i,2),d=l[0],p=l[1],m=Object(r.useState)(Object(E.a)(t)),j=Object(s.a)(m,2),f=j[0],b=j[1],h=Object(r.useState)(!1),O=Object(s.a)(h,2),v=O[0],x=O[1];return Object(r.useEffect)((function(){var e=setTimeout((function(){x(!1)}),1e3);return b((function(e){return Object(E.a)(t).filter((function(e){return x(!1),f.length||p(!0),e.title.toLowerCase().includes(c.trim())}))})),function(){clearInterval(e)}}),[c,t,f.length]),Object(u.jsx)(u.Fragment,{children:Object(u.jsxs)("div",{className:"grid__search",children:[Object(u.jsxs)("div",{className:"search-group",children:[Object(u.jsx)("input",{type:"text",onChange:function(e){p(!1),x(!0),o(e.target.value)},value:c,name:"search",autoComplete:"off",placeholder:"Search...",id:"search",autoFocus:!0,className:"workspace-form__title-input"}),Object(u.jsx)("label",{className:"workspace-form__title-label",htmlFor:"search",children:"Search..."}),d&&Object(u.jsx)("p",{className:"search__fail",children:"ERROR PLACEHOLDER"}),!t.length&&Object(u.jsx)("p",{className:"message-empty",style:{textAlign:"center"},children:"YOU DON'T HAVE A CREATED A WORKSPACE YET"})]}),v&&Object(u.jsx)("div",{className:"grid__workspace",children:Object(u.jsx)("div",{className:"loading",children:Object(u.jsx)("i",{className:"fas fa-sync fa-spin"})})}),Object(u.jsx)("div",{className:"grid__workspace",children:f.map((function(e){return Object(u.jsx)(V,{id:e._id,title:e.title,img:e.img},e._id)}))})]})})},D=function(e){var t=e.workspaces;return Object(u.jsx)(u.Fragment,{children:Object(u.jsxs)("div",{className:"grid__workspace",children:[!t.length&&Object(u.jsxs)("div",{className:"workspace-empty",children:[Object(u.jsxs)("div",{className:"welcome",children:[Object(u.jsx)("h2",{className:"heading-secondary",children:" Welcome to Manager-APP PEPE, "}),Object(u.jsx)("p",{className:"paragraph",children:"Manager App is a simple project that I have developed to put in practise different technologies and frameworks like Node, MongoDB, NoSql, Express, Mongoose, JavaScript, TypeScript, Angular & React. Please play around, the app is responsive and is connected to my API."}),Object(u.jsx)("br",{})]}),Object(u.jsxs)("div",{className:"steps",children:[Object(u.jsx)("h3",{className:"heading-tertiary steps--1",children:"To start"}),Object(u.jsx)("p",{className:"paragraph steps--1-description",children:"Create or click on a workspace if you have already created one. It will redirect you to your new Space."}),Object(u.jsx)("br",{}),Object(u.jsx)("h3",{className:"heading-tertiary steps--2",children:"On your new Workspace"}),Object(u.jsxs)("p",{className:"paragraph steps--2-description",children:["You can add cards. These cards work as an individual to do list. ",Object(u.jsx)("br",{}),"You can delete them, update them, drag them and drop them."]})]})]}),t.map((function(e){return Object(u.jsx)(V,{id:e._id,img:e.img,title:e.title},e._id)}))]})})},q=function(){return Object(u.jsx)("nav",{className:"sidebar",children:Object(u.jsxs)("ul",{className:"sidebar-nav",children:[Object(u.jsx)(i.c,{exact:!0,to:"/manager-app/home/overview",activeClassName:"router-link-active",className:"sidebar-nav__item",children:Object(u.jsx)("span",{children:"WORKSPACES"})}),Object(u.jsx)(i.c,{to:"/manager-app/home/search",activeClassName:"router-link-active",className:"sidebar-nav__item",children:Object(u.jsx)("span",{children:"FILTER"})}),Object(u.jsx)(i.c,{to:"/manager-app/home/add",activeClassName:"router-link-active",className:"sidebar-nav__item",children:Object(u.jsx)("span",{children:"ADD"})})]})})},R=function(e){var t=e.children;return Object(u.jsx)("div",{className:"dashboard-outlet",children:t})},H=function(e){var t=e.workspaces,a=e.addWorkspace;return Object(u.jsx)(u.Fragment,{children:Object(u.jsx)("div",{className:"section-home",children:Object(u.jsx)("div",{className:"main-dashboard",children:Object(u.jsxs)("div",{className:"main-content-dashboard",children:[Object(u.jsx)(q,{}),Object(u.jsx)(R,{children:Object(u.jsxs)(l.d,{children:[Object(u.jsx)(l.b,{exact:!0,path:"/manager-app/home/overview",component:function(e){return Object(u.jsx)(D,Object(p.a)({workspaces:t},e))}}),Object(u.jsx)(l.b,{exact:!0,path:"/manager-app/home/search",component:function(e){return Object(u.jsx)(A,Object(p.a)({workspaces:t},e))}}),Object(u.jsx)(l.b,{exact:!0,path:"/manager-app/home/add",component:function(e){return Object(u.jsx)(P,Object(p.a)({addWorkspace:a},e))}})]})})]})})})})},F=function(){var e=C().managerHTTP;return{patchUserData:function(){var t=Object(h.a)(b.a.mark((function t(a){var r;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=a,t.next=3,e(r,"users","PATCH");case 3:t.sent;case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),updatePassword:function(){var t=Object(h.a)(b.a.mark((function t(a){var r,n;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=a,t.next=3,e(r,"users/resetPass","PATCH");case 3:n=t.sent,console.log(n);case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),updateProfilePicture:function(){var e=Object(h.a)(b.a.mark((function e(t){var a,r,n,c;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(a=new FormData).append("file",t,t.name),r={method:"POST",body:a,headers:{Authorization:localStorage.getItem("reactBearer")}},e.prev=3,e.next=6,fetch("http://localhost:8000/api/todoApp/v1/upload/users",r);case 6:return n=e.sent,e.next=9,n.json();case 9:return c=e.sent,e.abrupt("return",c);case 13:e.prev=13,e.t0=e.catch(3),console.log(e.t0);case 16:case"end":return e.stop()}}),e,null,[[3,13]])})));return function(t){return e.apply(this,arguments)}}()}},W=function(e){var t=e.classes,a=e.onShow,n=e.onHide,c=e.onContent,o=Object(r.useContext)(_).user,i=Object(r.useState)(!1),l=Object(s.a)(i,2),d=l[0],p=l[1],m=F().patchUserData,f=j({name:o.name,email:o.email,password:""}),O=f.formValues,v=f.handleInputChange,x=f.customValidator,g=O.name,w=O.email,N=O.password,k={value:g,required:!0,minLength:4},y={value:w,required:!0,type:"email",minLength:3},C={value:N,required:!0,minLength:4,maxLength:15},T=function(){var e=Object(h.a)(b.a.mark((function e(t){var r,s;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),x(k)&&x(y)&&x(C)){e.next=4;break}return p(!0),e.abrupt("return");case 4:return r={name:g,email:w,password:N},s={text:"User data updated sucesfully",icon:"far fa-check-circle"},e.prev=6,e.next=9,m(r);case 9:a(),c(s),setTimeout((function(){n()}),1e3),e.next=21;break;case 14:e.prev=14,e.t0=e.catch(6),s.text="Wuops something went wrong",s.icon="fas fa-exclamation-circle",a(),c(s),setTimeout((function(){n()}),1e3);case 21:case"end":return e.stop()}}),e,null,[[6,14]])})));return function(t){return e.apply(this,arguments)}}();return Object(u.jsx)("div",{className:t,children:Object(u.jsxs)("form",{onSubmit:T,className:"profile-form__form",children:[Object(u.jsxs)("div",{className:"profile-form__form__group",children:[Object(u.jsx)("h2",{children:"PROFILE CONTENT"}),Object(u.jsx)("label",{htmlFor:"name",className:"profile-form__form__label",children:"Name"}),Object(u.jsx)("input",{name:"name",id:"name",onChange:v,value:g,type:"text",className:"profile-form__form__input",placeholder:"MR.Patata"}),!x(k)&&d&&Object(u.jsx)("p",{className:"error-form",children:"The name is required"})]}),Object(u.jsxs)("div",{className:"profile-form__form__group",children:[Object(u.jsx)("label",{htmlFor:"email",className:"profile-form__form__label",children:"Email Address"}),Object(u.jsx)("input",{type:"text",className:"profile-form__form__input",placeholder:"patata@gmail.com",id:"email",name:"email",onChange:v,value:w}),!x(y)&&d&&Object(u.jsx)("p",{className:"error-form",children:"The email adress is required"})]}),Object(u.jsxs)("div",{className:"profile-form__form__group",children:[Object(u.jsx)("label",{htmlFor:"password",className:"profile-form__form__label",children:"Password"}),Object(u.jsx)("input",{type:"password",className:"profile-form__form__input",placeholder:"Password",id:"password",name:"password",onChange:v,value:N}),!x(C)&&d&&Object(u.jsx)("p",{className:"error-form",children:"The password  is required"})]}),Object(u.jsx)("div",{className:"profile-form__form__group",children:Object(u.jsx)("button",{className:"btn btn--red",type:"submit",children:"UPDATE"})})]})})},B=function(e){var t=e.classes,a=e.onShow,n=e.onHide,c=e.onContent,o=Object(r.useState)(!1),i=Object(s.a)(o,2),l=i[0],d=i[1],p=F().updatePassword,m=j({password:"",passwordReset:"",passwordConfirm:""}),f=m.formValues,O=m.handleInputChange,v=m.customValidator,x=f.password,g=f.passwordConfirm,_=f.passwordReset,w={value:_,required:!0,minLength:4,maxLength:15},N={value:_,required:!0,minLength:4,maxLength:15},k={value:g,valueCompare:_,required:!0,minLength:4,maxLength:15},y=function(){var e=Object(h.a)(b.a.mark((function e(t){var r,s;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),v(w)&&v(N)&&v(k)){e.next=4;break}return d(!0),e.abrupt("return");case 4:return r={password:x,passwordReset:_,passwordConfirm:g},s={text:"Password Sucesfully updated",icon:"far fa-check-circle"},e.prev=6,e.next=9,p(r);case 9:a(),c(s),setTimeout((function(){n()}),1e3),e.next=21;break;case 14:e.prev=14,e.t0=e.catch(6),s.text="Wuops something went wrong",s.icon="fas fa-exclamation-circle",a(),c(s),setTimeout((function(){n()}),1e3);case 21:case"end":return e.stop()}}),e,null,[[6,14]])})));return function(t){return e.apply(this,arguments)}}();return Object(u.jsx)("div",{className:t,children:Object(u.jsxs)("form",{onSubmit:y,className:"profile-form__form",children:[Object(u.jsxs)("div",{className:"profile-form__form__group",children:[Object(u.jsx)("h2",{children:"RESET PASSWORD"}),Object(u.jsx)("label",{htmlFor:"password",className:"profile-form__form__label",children:"Current Password"}),Object(u.jsx)("input",{name:"password",value:x,onChange:O,type:"password",className:"profile-form__form__input",placeholder:"Password",id:"password"}),!v(w)&&l&&Object(u.jsx)("p",{className:"error-form",children:" The current password is required"})]}),Object(u.jsxs)("div",{className:"profile-form__form__group",children:[Object(u.jsx)("label",{htmlFor:"password",className:"profile-form__form__label",children:"New Password"}),Object(u.jsx)("input",{type:"password",className:"profile-form__form__input",placeholder:"Password",id:"passwordReset",name:"passwordReset",value:_,onChange:O}),!v(N)&&l&&Object(u.jsx)("p",{className:"error-form",children:"The new password  is required"})]}),Object(u.jsxs)("div",{className:"profile-form__form__group",children:[Object(u.jsx)("label",{htmlFor:"passwordConfirm",className:"profile-form__form__label",children:"Confirm Password"}),Object(u.jsx)("input",{type:"password",className:"profile-form__form__input",placeholder:"Confirm Password",name:"passwordConfirm",value:g,onChange:O,id:"passwordConfirm"}),!v(k)&&l&&Object(u.jsx)("p",{className:"error-form",children:"The password confirmation doesnt match with the provided password"})]}),Object(u.jsx)("div",{className:"profile-form__form__group",children:Object(u.jsx)("button",{className:"btn btn--red",type:"submit",children:"UPDATE PASSWORD"})})]})})},M=function(e){var t=e.classes,a=e.onShow,n=e.onHide,c=e.onContent,s=Object(r.useContext)(_).user,o=F().updateProfilePicture,i=Object(r.useRef)(null),l={backgroundImage:'url("'.concat(s.img?s.img:L,'")'),backgroundSize:"cover",backgorundPosition:"center",borderRadius:"50%"},d=function(){var e=Object(h.a)(b.a.mark((function e(t){var r,l,u;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.target.files){e.next=22;break}return(r=new FileReader).readAsDataURL(t.target.files[0]),r.onload=function(e){i.current.src="".concat(e.target.result)},l={text:"Picture sucessfully updated",icon:"far fa-check-circle"},e.prev=5,e.next=8,o(t.target.files[0]);case 8:u=e.sent,s.img=u.url,a(),c(l),setTimeout((function(){n()}),1e3),e.next=22;break;case 15:e.prev=15,e.t0=e.catch(5),l.text="Wuops something went wrong",l.icon="fas fa-exclamation-circle",a(),c(l),setTimeout((function(){n()}),1e3);case 22:case"end":return e.stop()}}),e,null,[[5,15]])})));return function(t){return e.apply(this,arguments)}}();return Object(u.jsxs)("div",{className:t,children:[Object(u.jsx)("div",{ref:i,style:l}),Object(u.jsx)("input",{type:"file",onChange:d,className:"profile-picture__file"}),Object(u.jsx)("i",{className:"fas fa-camera"})]})},U=function(){var e=o(),t=e.showNotificationHandler,a=e.hideNotificationHandler,r=e.notificationContentHandler,n=e.notificationIsShow,c=e.notificationContent;return Object(u.jsxs)(u.Fragment,{children:[n&&Object(u.jsx)(d,{notificationContent:c}),Object(u.jsx)("div",{className:"section-profile",children:Object(u.jsx)("div",{className:"profile-menu",children:Object(u.jsxs)("div",{className:"profile-content",children:[Object(u.jsx)("div",{className:"profile-content-display",children:Object(u.jsx)(M,{onShow:t,onHide:a,onContent:r,classes:"profile-picture"})}),Object(u.jsx)(W,{onShow:t,onHide:a,onContent:r,classes:"profile-form"}),Object(u.jsx)(B,{onShow:t,onHide:a,onContent:r,classes:"profile-form"})]})})})]})},G=function(){var e=C().managerHTTP,t=Object(r.useCallback)(function(){var t=Object(h.a)(b.a.mark((function t(a){var r;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e(null,"todoList/".concat(a),"GET");case 2:if("success"!==(r=t.sent).status){t.next=5;break}return t.abrupt("return",r.todoList);case 5:if("fail"!==r.status){t.next=7;break}throw new Error("There was a problem with the request");case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),[e]),a=function(){var t=Object(h.a)(b.a.mark((function t(a,r){var n,c;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n={name:a,project:r},t.next=3,e(n,"todoList","POST");case 3:if("success"!==(c=t.sent).status){t.next=6;break}return t.abrupt("return",c.newTodoList);case 6:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}(),n=function(){var t=Object(h.a)(b.a.mark((function t(a){return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e(null,"todoList/".concat(a),"DELETE");case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return{getTodoListsById:t,addNewTodoList:a,addNewTodo:function(){var t=Object(h.a)(b.a.mark((function t(a,r){var n,c;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n={todo:a,todoList:r},t.next=3,e(n,"todo","POST");case 3:if("success"!==(c=t.sent).status){t.next=6;break}return t.abrupt("return",c.newTodo);case 6:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}(),updateStatusTodo:function(){var t=Object(h.a)(b.a.mark((function t(a){var r;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e(null,"todo/isDone/".concat(a),"GET");case 2:if("success"!==(r=t.sent).status){t.next=5;break}return t.abrupt("return",r.todoDone.done);case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),deleteToDoList:n,dragAndDropTodo:function(){var t=Object(h.a)(b.a.mark((function t(a,r){return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e(null,"todo/".concat(a,"/").concat(r),"PATCH");case 3:t.next=8;break;case 5:t.prev=5,t.t0=t.catch(0),console.log(t.t0);case 8:case"end":return t.stop()}}),t,null,[[0,5]])})));return function(e,a){return t.apply(this,arguments)}}()}},z=function(e){var t=e.id,a=e.currValue,n=e.done,c=G().updateStatusTodo,o=Object(r.useState)(n),i=Object(s.a)(o,2),l=i[0],d=i[1],p=function(){var e=Object(h.a)(b.a.mark((function e(){var a;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c(t);case 2:a=e.sent,d(a);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),m=j({todoText:a}),f=m.formValues,O=m.handleInputChange,v=f.todoText;return Object(u.jsxs)("li",{draggable:!0,onDragStart:function(e){e.dataTransfer.setData("text/plain",t),e.dataTransfer.effectAllowed="move"},className:"todoList-card__body__item",children:[Object(u.jsx)("input",{value:v,name:"todoText",onChange:O,id:t,type:"text",className:"todo"}),l&&Object(u.jsx)("i",{onClick:p,className:"far fa-check-square checkbox"}),!l&&Object(u.jsx)("i",{onClick:p,className:"far fa-square done checkbox"})]})},J=function(e){var t=e.onUpdate,a=e.onModalControlHandler,n=e.onSetTodoListID,c=e.id,o=(e.project,e.todos),i=e.titleTodoList,l=G(),d=l.addNewTodo,p=l.dragAndDropTodo,m=Object(r.useState)(o),f=Object(s.a)(m,2),O=f[0],v=f[1],x=function(){var e=Object(h.a)(b.a.mark((function e(t,a){var r;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d(t,a);case 2:r=e.sent,v((function(e){return[].concat(Object(E.a)(e),[r])}));case 4:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),g=j({title:i}),_=g.formValues,w=g.handleInputChange,N=_.title,k=Object(r.useRef)(null),y=function(){var e=Object(h.a)(b.a.mark((function e(a){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a.preventDefault(),!(k.current.value.trim().length>2)){e.next=7;break}return e.next=4,x(k.current.value,c);case 4:return e.next=6,t();case 6:k.current.value="";case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),C=Object(r.useRef)(null),T=function(){var e=Object(h.a)(b.a.mark((function e(a){var r,n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return null===(r=C.current)||void 0===r||r.classList.remove("drop-drop"),n=a.dataTransfer.getData("text/plain"),e.next=4,t();case 4:return e.next=6,p(n,c);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(u.jsxs)("div",{ref:C,"data-id":c,className:"todoList-card card-grid",onDragOver:function(e){var t;e.dataTransfer&&"text/plain"===e.dataTransfer.types[0]&&(e.preventDefault(),null===(t=C.current)||void 0===t||t.classList.add("drop-drop"))},onDragLeave:function(e){var t;e.dataTransfer&&"text/plain"===e.dataTransfer.types[0]&&(e.preventDefault(),null===(t=C.current)||void 0===t||t.classList.remove("drop-drop"))},onDrop:T,children:[Object(u.jsxs)("div",{className:"todoList-card__head",children:[Object(u.jsx)("input",{type:"text",onChange:w,value:N,name:"name",className:"todoList-card__head__title"}),Object(u.jsx)("i",{onClick:function(){a(),n(c)},className:"fas fa-trash-alt"})]}),Object(u.jsx)("ul",{className:"todoList-card__body",children:0!==O.length&&O.map((function(e){return Object(u.jsx)(z,{id:e._id,done:e.done,currValue:e.todo},e._id)}))}),Object(u.jsx)("div",{className:"todoList-card__add__item",children:Object(u.jsxs)("form",{onSubmit:y,children:[Object(u.jsxs)("div",{className:"add-wrap",children:[Object(u.jsx)("input",{ref:k,placeholder:"Add Todo",type:"text",autoFocus:!0,className:"todoList-card__add-item__input"}),Object(u.jsx)("span",{className:"fas fa-pencil-alt"})]}),Object(u.jsx)("button",{className:"btn btn--todoList",type:"submit",children:"Add Task"})]})})]})},K=function(e){var t=e.onClose,a=e.onDeleteTodoList;return Object(u.jsxs)(r.Fragment,{children:[Object(u.jsx)("div",{onClick:t,className:"overlay"}),Object(u.jsx)("div",{className:"modal",children:Object(u.jsxs)("div",{className:"modal-content",children:[Object(u.jsx)("div",{className:"modal-close",children:Object(u.jsx)("i",{children:"X"})}),Object(u.jsx)("div",{className:"modal__title",children:Object(u.jsx)("h3",{className:"modal__heading",children:"Are you sure about this?"})}),Object(u.jsx)("div",{className:"modal__body",children:Object(u.jsx)("p",{children:"Lorem ipsum dolor, sit amet consectetur adipisicing elit. Cumque exercitationem vero veritatis. Ducimus dolore harum, tempore facere error fugit accusamus."})}),Object(u.jsxs)("div",{className:"modal__button",children:[Object(u.jsx)("button",{onClick:a,className:"btn modal__button--confirm",children:"CONFIRM"}),Object(u.jsx)("button",{onClick:t,className:"btn modal__button--cancel",children:"CANCEL"})]})]})})]})},Y=function(e){var t=e.workspaces,a=G().deleteToDoList,n=Object(r.useState)(),c=Object(s.a)(n,2),o=c[0],i=c[1],d=Object(l.g)().workspaceID,p=G(),m=p.getTodoListsById,j=p.addNewTodoList,f=Object(r.useRef)(null),O=Object(r.useState)([]),v=Object(s.a)(O,2),x=v[0],g=v[1],_=Object(r.useState)(),w=Object(s.a)(_,2),N=w[0],k=w[1],y=Object(E.a)(t).find((function(e){return e._id===d})),C={backgroundImage:"url('".concat(null===y||void 0===y?void 0:y.img,"')"),backgroundSize:"cover",bacgroundPosition:"top"},T=Object(r.useState)(!1),S=Object(s.a)(T,2),L=S[0],I=S[1],P=function(){I(!L)},V=function(){var e=Object(h.a)(b.a.mark((function e(){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a(N);case 2:g((function(e){return Object(E.a)(e.filter((function(e){return e._id!==N})))})),P();case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),A=function(){return new Promise((function(e,t){e(i(!o))}))},D=function(){var e=Object(h.a)(b.a.mark((function e(t){var a;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j(f.current.value,d);case 2:(null===(a=e.sent)||void 0===a?void 0:a.todos)||(a.todos=[]),g((function(e){return[].concat(Object(E.a)(e),[a])}));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),q=function(){var e=Object(h.a)(b.a.mark((function e(t){var a,r;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),!((null===(a=f.current)||void 0===a?void 0:a.value.trim().length)<2)){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,D(null===(r=f.current)||void 0===r?void 0:r.value);case 5:f.current.value="";case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(r.useEffect)((function(){function e(){return(e=Object(h.a)(b.a.mark((function e(){var t;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m(d);case 2:t=e.sent,g((function(e){return t}));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[d,m,o]),Object(u.jsxs)(u.Fragment,{children:[L&&Object(u.jsx)(K,{onClose:P,onDeleteTodoList:V}),Object(u.jsx)("div",{className:"section-workspace",style:C,children:Object(u.jsxs)("div",{className:"todoList-wrapper",children:[x.map((function(e){return Object(u.jsx)(J,{onUpdate:A,onModalControlHandler:P,onSetTodoListID:k,id:e._id,titleTodoList:e.name,todos:e.todos.length?e.todos:[],project:e.project},e._id+e.todos.length)})),Object(u.jsxs)("form",{onSubmit:q,className:"add__card",children:[Object(u.jsx)("input",{ref:f,type:"text",placeholder:"Add a new list"}),Object(u.jsx)("button",{className:"add__card__button",type:"submit",children:"NEW LIST"})]})]})})]})},X=function(e){var t=e.location;localStorage.setItem("lastPath",t.pathname);var a=Object(r.useContext)(T),n=a.onGetWorkspaces,c=a.workspaces,s=a.onCreateWorkspaces;return Object(r.useEffect)((function(){n()}),[n]),Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)(I,{}),Object(u.jsxs)(l.d,{children:[Object(u.jsx)(l.b,{exact:!0,path:"/manager-app/profile",component:U}),Object(u.jsx)(l.b,{path:"/manager-app/workspace/:workspaceID",component:function(e){return Object(u.jsx)(Y,{workspaces:c})}}),Object(u.jsx)(l.b,{path:"/manager-app/home",component:function(e){return Object(u.jsx)(H,Object(p.a)({workspaces:c,addWorkspace:s},e))}})]})]})},Q=function(e){e.onShowNotification;var t=e.notificationIsShow,a=e.notificationContent,n=Object(r.useContext)(_),c=n.isLoggedIn,s=n.onCheckToken;return Object(r.useEffect)((function(){return s(),function(){}}),[s]),Object(u.jsxs)(i.a,{children:[t&&Object(u.jsx)(d,{notificationContent:a}),Object(u.jsxs)(l.d,{children:[!c&&Object(u.jsx)(l.b,{path:"/auth",component:y}),Object(u.jsxs)(S,{children:[c&&Object(u.jsx)(l.b,{path:"/manager-app",component:X}),c?Object(u.jsx)(l.a,{to:"".concat(localStorage.getItem("lastPath")?localStorage.getItem("lastPath"):"/manager-app/home/overview")}):Object(u.jsx)(l.a,{to:"/auth/login"})]})]})]})},Z=function(){var e=o(),t=e.notificationContent,a=e.notificationIsShow,r=e.showNotificationHandler,n=e.hideNotificationHandler,c=e.notificationContentHandler;return Object(u.jsx)(w,{onShowNotification:r,onHideNotification:n,onNotificationContent:c,children:Object(u.jsx)(Q,{onShowNotification:r,notificationIsShow:a,notificationContent:t})})};c.a.render(Object(u.jsx)(Z,{}),document.getElementById("root"))}},[[39,1,2]]]);
//# sourceMappingURL=main.56e7a390.chunk.js.map