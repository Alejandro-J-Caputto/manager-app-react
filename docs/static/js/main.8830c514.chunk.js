(this["webpackJsonpmanager-app-react"]=this["webpackJsonpmanager-app-react"]||[]).push([[0],{28:function(e,t,a){},39:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a(22),c=a.n(r),s=(a(28),a(4)),o=function(){var e=Object(n.useState)(!1),t=Object(s.a)(e,2),a=t[0],r=t[1],c=Object(n.useState)({text:"",icon:""}),o=Object(s.a)(c,2),i=o[0],l=o[1];return{notificationIsShow:a,notificationContent:i,showNotificationHandler:function(){r(!0)},hideNotificationHandler:function(){r(!1)},notificationContentHandler:function(e){l(e)}}},i=a(5),l=a(6),u=a(0),d=function(e){var t=e.notificationContent;return Object(u.jsxs)("div",{className:"notification",children:[Object(u.jsx)("div",{className:"notification__action",children:Object(u.jsx)("i",{className:t.icon})}),Object(u.jsx)("div",{className:"notifation__body",children:Object(u.jsx)("div",{className:"notification__message",children:Object(u.jsx)("p",{children:t.text})})})]})},m=a(7),p=a(17),j=function(e){var t=Object(n.useState)(e),a=Object(s.a)(t,2),r=a[0],c=a[1],o=Object(n.useState)(!1),i=Object(s.a)(o,2),l=i[0],u=i[1];return{formValues:r,handleInputChange:function(e){var t=e.target,a=t.name,n=t.value;c((function(e){return u(!0),Object(m.a)(Object(m.a)({},e),{},Object(p.a)({},a,n))}))},reset:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e;c(t)},customValidator:Object(n.useCallback)((function(e){var t=!0;return e.required&&(t=t&&0!==e.value.toString().trim().length),"email"===e.type&&(t=t&&e.value.toString().trim().includes("@")),null!=e.minLength&&"string"===typeof e.value&&(t=t&&e.value.length>e.minLength),null!=e.maxLength&&"string"===typeof e.value&&(t=t&&e.value.length<e.maxLength),null!=e.min&&"number"===typeof e.value&&(t=t&&e.value>e.min),null!=e.max&&"number"===typeof e.value&&(t=t&&e.value<e.max),e.valueCompare&&(t=t&&e.valueCompare===e.value),t}),[]),typing:l,setTyping:u}},f=a(2),b=a.n(f),h=a(3),O={text:"Succesfully Logged In",icon:"far fa-check-circle"},x={text:"Succesfully registered",icon:"far fa-check-circle"},v={text:"Activating Super Security!!",icon:"fas fa-sync fa-spin"},_={text:"there was a problem",icon:"fas fa-exclamation-circle"},g=Object(n.createContext)({isLoggedIn:!1,user:{},onLogout:function(){},onLogin:function(e,t){},onRegister:function(e,t,a,n){},onCheckToken:function(){}}),w=function(e){var t=e.children,a=e.onShowNotification,r=e.onHideNotification,c=e.onNotificationContent,o={authHTTP:Object(n.useCallback)(function(){var e=Object(h.a)(b.a.mark((function e(t){var a,n,r,c,s,o,i=arguments;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=i.length>1&&void 0!==i[1]?i[1]:"login",n=i.length>2&&void 0!==i[2]?i[2]:"POST",r="http://localhost:8000/api/todoApp/v1/auth",e.prev=3,c={method:n,body:null===t?null:JSON.stringify(t),headers:{Accept:"application/json, text/plain, */*","Content-Type":"application/json",Authorization:"checkToken"===a&&"GET"===n?localStorage.getItem("reactBearer"):""}},e.next=7,fetch("".concat(r,"/").concat(a),c);case 7:return s=e.sent,e.next=10,s.json();case 10:return o=e.sent,e.abrupt("return",o);case 14:e.prev=14,e.t0=e.catch(3),console.warn(e.t0);case 17:case"end":return e.stop()}}),e,null,[[3,14]])})));return function(t){return e.apply(this,arguments)}}(),[])}.authHTTP,i=Object(n.useState)(!1),d=Object(s.a)(i,2),m=d[0],p=d[1],j=Object(n.useState)({}),f=Object(s.a)(j,2),w=f[0],N=f[1],k=Object(l.g)(),C=function(){var e=Object(h.a)(b.a.mark((function e(t,n){var s,i;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a(),c(v),e.next=4,o({email:t,password:n},"login");case 4:s=e.sent;try{"success"===s.status&&(c(O),i={role:s.user.role,active:s.user.active,_id:s.user._id,name:s.user.name,email:s.user.email,img:s.user.img},N(i),setTimeout((function(){r(),p(!0)}),2500),localStorage.setItem("reactBearer","Bearer ".concat(s.token))),"fail"===s.status&&(c(_),setTimeout((function(){r()}),2500))}catch(l){console.log(l)}case 6:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),y=function(){var e=Object(h.a)(b.a.mark((function e(t,n,s,i){var l,u;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a(),c(v),e.next=4,o({name:t,email:n,password:s,passwordConfirm:i},"register");case 4:"success"===(l=e.sent).status&&(c(x),u={role:l.newUser.role,active:l.newUser.active,_id:l.newUser._id,name:l.newUser.name,email:l.newUser.email,img:l.newUser.img},N(u),k.replace("/manager-app"),setTimeout((function(){r(),p(!0)}),2500),localStorage.setItem("reactBearer","Bearer ".concat(l.token))),"fail"===l.status&&(c(_),setTimeout((function(){r()}),2500));case 7:case"end":return e.stop()}}),e)})));return function(t,a,n,r){return e.apply(this,arguments)}}(),T=function(){var e=Object(h.a)(b.a.mark((function e(){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,o(null,"logout","GET");case 3:"success"===e.sent.status&&(localStorage.setItem("reactBearer","logout"),p(!1)),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.warn(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),S=Object(n.useCallback)(Object(h.a)(b.a.mark((function e(){var t,a,n,r,c,s,i,l;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o(null,"checkToken","GET");case 2:"success"===(t=e.sent).status?(a=t.user,n=a._id,r=a.email,c=a.name,s=a.active,i=a.role,l=a.img,N({role:i,active:s,_id:n,name:c,email:r,img:l}),p(!0)):(p(!1),localStorage.setItem("reactBearer","logout"),N({}));case 4:case"end":return e.stop()}}),e)}))),[o]);return Object(u.jsx)(g.Provider,{value:{isLoggedIn:m,onLogout:T,onLogin:C,onRegister:y,user:w,onCheckToken:S},children:t})},N=function(e){var t=e.history,a=Object(n.useContext)(g).onLogin,r=Object(n.useState)(!1),c=Object(s.a)(r,2),o=c[0],l=c[1],d=Object(n.useState)(!1),p=Object(s.a)(d,2),f=p[0],b=p[1],h=Object(n.useState)(!1),O=Object(s.a)(h,2),x=O[0],v=O[1],_=Object(n.useState)(!1),w=Object(s.a)(_,2),N=w[0],k=w[1],C=Object(n.useState)({isValid:!1,leftIntput:!1}),y=Object(s.a)(C,2),T=y[0],S=y[1],L=j({email:"",password:""}),I=L.formValues,P=L.handleInputChange,V=L.customValidator,E=L.typing,A=L.setTyping,D=I.email,q=I.password,R=Object(n.useRef)(null),H=Object(n.useRef)(null),F=Object(n.useMemo)((function(){return{value:q,required:!0,minLength:4,maxLength:15}}),[q]),W=Object(n.useMemo)((function(){return{value:D,required:!0,type:"email",min:3}}),[D]);Object(n.useEffect)((function(){E&&S((function(e){return Object(m.a)(Object(m.a)({},e),{},{isValid:!1})}));var e=setTimeout((function(){V(W)&&!0===E&&(l(!0),v(!0)),V(F)&&!0===E&&(b(!0),k(!0))}),500);return function(){clearTimeout(e)}}),[D,q,W,F,V,E]);var B=function(e){var t=e.target.name,a=!1;return"email"===t&&(a=V(W),l(a),A(!0),v(!0)),"password"===t&&(a=V(F),b(a),A(!0),k(!0)),a};Object(n.useEffect)((function(){R.current.disabled=!1}),[D,q]);return Object(u.jsxs)("div",{className:"auth-card",children:[Object(u.jsxs)("form",{ref:H,onSubmit:function(e){if(e.preventDefault(),R.current.disabled=!0,!o||!f)return R.current.disabled=!1,void S((function(e){return Object(m.a)(Object(m.a)({},e),{},{isValid:!0})}));a(D,q),t.replace("/manager-app/home/overview")},autoComplete:"off",className:"auth-card__form",children:[Object(u.jsx)("h2",{className:"heading-secondary u-margin-bottom-small u-margin-top",children:"Manager-App"}),Object(u.jsxs)("div",{className:"auth-card__form__group",children:[Object(u.jsx)("input",{name:"email",value:D,onBlur:B,className:"auth-card__form__input ".concat(!o&&E&&x||T.isValid&&!o?"auth__error--input":""),type:"email",onChange:P,placeholder:"Email Address",id:"email"}),Object(u.jsx)("label",{htmlFor:"email",className:"auth-card__form__label",children:"Email Address"})]}),Object(u.jsxs)("div",{className:"auth-card__form__group",children:[Object(u.jsx)("input",{name:"password",value:q,onChange:P,onBlur:B,className:"auth-card__form__input ".concat(!f&&E&&N||T.isValid&&!f?"auth__error--input":""),type:"password",placeholder:"password",id:"password"}),Object(u.jsx)("label",{htmlFor:"password",className:"auth-card__form__label",children:"Password"})]}),Object(u.jsx)("div",{className:"auth-card__form__group",children:Object(u.jsx)("button",{ref:R,className:"btn btn--red",type:"submit",children:" Log in "})}),Object(u.jsxs)("div",{className:"auth-card__form__group u-margin-bottom-small authLink",children:[Object(u.jsx)("p",{className:"paragraph u-center-text",children:"Don't you have an account?"}),Object(u.jsx)(i.c,{activeClassName:"spanStyle",to:"/auth/register",className:"paragraph u-center-text",children:" Register Now "})]})]}),Object(u.jsx)("div",{className:"auth-card__icon-box log",children:Object(u.jsx)("i",{className:"fab fa-react auth-card__icon"})})]})},k=function(){var e=Object(n.useContext)(g).onRegister,t=Object(n.useState)({isValid:!1,leftInput:!1}),a=Object(s.a)(t,2),r=a[0],c=a[1],o=Object(n.useState)({isValid:!1,leftInput:!1}),l=Object(s.a)(o,2),d=l[0],p=l[1],f=Object(n.useState)({isValid:!1,leftInput:!1}),b=Object(s.a)(f,2),h=b[0],O=b[1],x=Object(n.useState)({isValid:!1,leftInput:!1}),v=Object(s.a)(x,2),_=v[0],w=v[1],N=Object(n.useState)({isValid:!1,leftIntput:!1}),k=Object(s.a)(N,2),C=k[0],y=k[1],T=j({name:"",email:"",password:"",passwordConfirm:""}),S=T.formValues,L=T.handleInputChange,I=T.customValidator,P=T.typing,V=T.setTyping,E=S.name,A=S.email,D=S.password,q=S.passwordConfirm,R=Object(n.useMemo)((function(){return{value:E,required:!0,minLength:4}}),[E]),H=Object(n.useMemo)((function(){return{value:A,required:!0,type:"email",minLength:3}}),[A]),F=Object(n.useMemo)((function(){return{value:D,required:!0,minLength:4,maxLength:15}}),[D]),W=Object(n.useMemo)((function(){return{value:q,valueCompare:D,required:!0,minLength:4,maxLength:15}}),[q,D]),B=function(e){var t=e.target.name,a=!1;return"name"===t&&(a=I(R),c((function(e){return{leftInput:!0,isValid:a}})),V(!0)),"email"===t&&(a=I(H),p((function(e){return{leftInput:!0,isValid:a}})),V(!0)),"password"===t&&(a=I(F),O((function(e){return{leftInput:!0,isValid:a}})),V(!0)),"passwordConfirm"===t&&(a=I(W),w((function(e){return{leftInput:!0,isValid:a}})),V(!0)),a};Object(n.useEffect)((function(){P&&y((function(e){return Object(m.a)(Object(m.a)({},e),{},{isValid:!1})}));var e=setTimeout((function(){I(R)&&!0===P&&c((function(e){return{leftInput:!0,isValid:!0}})),I(H)&&!0===P&&p((function(e){return{leftInput:!0,isValid:!0}})),I(F)&&!0===P&&O((function(e){return{leftInput:!0,isValid:!0}})),I(W)&&!0===P&&w((function(e){return{leftInput:!0,isValid:!0}}))}),500);return function(){clearTimeout(e)}}),[A,D,E,q,I,P,F,H,R,W]);return Object(u.jsxs)("div",{className:"auth-card",children:[Object(u.jsxs)("form",{onSubmit:function(t){t.preventDefault(),r.isValid&&d.isValid&&h.isValid&&_.isValid?e(E,A,D,q):y((function(e){return Object(m.a)(Object(m.a)({},e),{},{isValid:!0})}))},autoComplete:"off",className:"auth-card__form auth-card--register",children:[Object(u.jsx)("h2",{className:"heading-secondary u-margin-bottom-small u-margin-top",children:"Manager-App"}),Object(u.jsxs)("div",{className:"auth-card__form__group ",children:[Object(u.jsx)("input",{onChange:L,onBlur:B,type:"text",className:"auth-card__form__input ".concat(r.leftInput&&!r.isValid&&P||C.isValid&&!r.isValid?"auth__error--input":""),placeholder:"Name",name:"name",value:E,id:"name"}),Object(u.jsx)("label",{htmlFor:"name",className:"auth-card__form__label",children:"Name"})]}),Object(u.jsxs)("div",{className:"auth-card__form__group",children:[Object(u.jsx)("input",{onChange:L,onBlur:B,type:"email",value:A,className:"auth-card__form__input ".concat(!d.isValid&&d.leftInput&&P||C.isValid&&!d.isValid?"auth__error--input":""),name:"email",placeholder:"Email Address",id:"email"}),Object(u.jsx)("label",{htmlFor:"email",className:"auth-card__form__label",children:"Email Address"})]}),Object(u.jsxs)("div",{className:"auth-card__form__group",children:[Object(u.jsx)("input",{onChange:L,onBlur:B,type:"password",className:"auth-card__form__input ".concat(!h.isValid&&h.leftInput&&P||C.isValid&&!h.isValid?"auth__error--input":""),placeholder:"Password",name:"password",value:D,id:"password"}),Object(u.jsx)("label",{htmlFor:"password",className:"auth-card__form__label",children:"Password"})]}),Object(u.jsxs)("div",{className:"auth-card__form__group",children:[Object(u.jsx)("input",{onChange:L,onBlur:B,type:"password",className:"auth-card__form__input ".concat(!_.isValid&&_.leftInput&&P||C.isValid&&!_.isValid?"auth__error--input":""),placeholder:"Confirm Password",value:q,name:"passwordConfirm",id:"passwordConfirm"}),Object(u.jsx)("label",{htmlFor:"passwordConfirm",className:"auth-card__form__label",children:"Confirm Password"})]}),Object(u.jsx)("div",{className:"auth-card__form__group",children:Object(u.jsx)("button",{className:"btn btn--red",type:"submit",children:" Sign In "})}),Object(u.jsxs)("div",{className:"auth-card__form__group u-margin-bottom-small authLink",children:[Object(u.jsx)("p",{className:"paragraph u-center-text",children:"Already registered?"}),Object(u.jsx)(i.c,{activeClassName:"spanStyle",to:"/auth/login",className:"paragraph u-center-text ",children:" Log in "})]})]}),Object(u.jsx)("div",{className:"auth-card__icon-box",children:Object(u.jsx)("i",{className:"fab fa-react auth-card__icon"})})]})},C=function(){return Object(u.jsxs)("div",{className:"section__auth",children:[Object(u.jsx)(l.b,{path:"/auth/login",component:N}),Object(u.jsx)(l.b,{path:"/auth/register",component:k})]})},y=function(){return{managerHTTP:Object(n.useCallback)(function(){var e=Object(h.a)(b.a.mark((function e(t,a){var n,r,c,s,o,i=arguments;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=i.length>2&&void 0!==i[2]?i[2]:"GET",r="http://localhost:8000/api/todoApp/v1",e.prev=2,c={method:n,body:null===t?null:JSON.stringify(t),headers:{Accept:"application/json, text/plain, */*","Content-Type":"application/json",Authorization:localStorage.getItem("reactBearer")}},e.next=6,fetch("".concat(r,"/").concat(a),c);case 6:return s=e.sent,e.next=9,s.json();case 9:return o=e.sent,e.abrupt("return",o);case 13:throw e.prev=13,e.t0=e.catch(2),e.t0;case 16:case"end":return e.stop()}}),e,null,[[2,13]])})));return function(t,a){return e.apply(this,arguments)}}(),[])}},T=Object(n.createContext)({workspaces:[],onGetWorkspaces:function(){},onCreateWorkspaces:function(e){},onSetTheme:function(){},onCheckTokenManager:function(){}}),S=function(e){var t=e.children,a=y().managerHTTP,r=Object(n.useState)([]),c=Object(s.a)(r,2),o=c[0],i=c[1],l=Object(n.useCallback)(Object(h.a)(b.a.mark((function e(){var t;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("me dispare"),e.next=3,a(null,"workspace","GET");case 3:t=e.sent,i(t.workspace);case 5:case"end":return e.stop()}}),e)}))),[a]),d=function(){var e=Object(h.a)(b.a.mark((function e(t){var n,r;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={title:t.title,img:t.img},e.next=3,a(n,"workspace","POST");case 3:r=e.sent,i(r.workspace);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),m=function(){var e=Object(h.a)(b.a.mark((function e(){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),p=function(){var e=Object(h.a)(b.a.mark((function e(){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(u.jsx)(T.Provider,{value:{workspaces:o,onGetWorkspaces:l,onCreateWorkspaces:d,onSetTheme:m,onCheckTokenManager:p},children:t})},L=a.p+"static/media/user-img-default.77d7ec1d.png",I=function(){var e=Object(n.useContext)(g),t=e.onLogout,a=e.user;return Object(u.jsxs)("nav",{className:"navbar",children:[Object(u.jsxs)("div",{className:"navbar__logo-box",children:[Object(u.jsx)(i.b,{to:"/manager-app/home/overview",className:"navbar__link",children:Object(u.jsx)("i",{className:"navbar__logo fab fa-pied-piper-square"})}),Object(u.jsx)("div",{className:"workspace__name",children:Object(u.jsx)("span",{children:a.name})})]}),Object(u.jsxs)("div",{className:"navbar__list",children:[Object(u.jsx)(i.c,{className:"navbar__list-item",activeClassName:"active-link-nav",to:"/manager-app/home/overview",children:Object(u.jsx)("i",{className:"navbar__list-item-icon--logout fas fa-home"})}),Object(u.jsx)(i.c,{className:"navbar__list-item",activeClassName:"active-link-nav",to:"",children:Object(u.jsx)("i",{className:"navbar__list-item-icon--settings fas fa-edit"})}),Object(u.jsx)(i.c,{className:"navbar__list-item",activeClassName:"active-link-nav",to:"/manager-app/profile",children:Object(u.jsx)("img",{className:"navbar__list-item-user-photo",src:a.img?a.img:L,alt:"profile"})}),Object(u.jsx)(i.c,{onClick:t,className:"navbar__list-item",activeClassName:"active-link-nav",to:"/auth/login",children:Object(u.jsx)("i",{className:"navbar__list-item-icon--logout fas fa-sign-out-alt"})})]})]})},P=function(e){var t=e.history,a=e.addWorkspace,r=Object(n.useRef)(null),c=Object(n.useRef)(null),o=Object(n.useState)(!1),i=Object(s.a)(o,2),l=i[0],d=i[1],m=Object(n.useState)("iksgsorgjrltr65cs8gq"),p=Object(s.a)(m,2),j=p[0],f=p[1],b=function(e){var t;null===(t=c.current)||void 0===t||t.childNodes.forEach((function(t){var a=t;if(a.classList.remove("selectedCard"),a.id===e)return a.classList.add("selectedCard")}))};return Object(u.jsxs)("div",{className:"grid__add",children:[Object(u.jsx)("div",{className:"grid__heading",children:Object(u.jsx)("h2",{children:"CREATE A WORKSPACE"})}),Object(u.jsx)("div",{className:"add__form",children:Object(u.jsxs)("form",{onSubmit:function(e){var n;if(e.preventDefault(),d(!1),(null===(n=r.current)||void 0===n?void 0:n.value.trim().length)>2){var c={title:r.current.value,img:j};a(c),t.push("/manager-app/home/overview")}else d(!0)},className:"workspace-form",children:[Object(u.jsxs)("div",{className:"form-group",children:[Object(u.jsx)("input",{ref:r,type:"text",name:"title",id:"title",autoFocus:!0,className:"workspace-form__title-input"}),Object(u.jsx)("label",{htmlFor:"title",className:"workspace-form__title-label"}),l&&Object(u.jsx)("p",{className:"error-form",children:" The name is required "})]}),Object(u.jsxs)("div",{className:"form-group",children:[Object(u.jsx)("p",{className:"workspace-form__title-label",children:"Select a theme"}),Object(u.jsxs)("ul",{ref:c,onClick:function(e){var t=e.target.closest(".workspace-card");f(t.getAttribute("data-theme")),b(t.id)},className:"grid__workspace grid__workspace--add",children:[Object(u.jsx)("li",{id:"iksgsorgjrltr65cs8gq","data-theme":"https://res.cloudinary.com/dlm1qwk4g/image/upload/v1617284918/iksgsorgjrltr65cs8gq.jpg",className:"workspace-card workspace-card--1"}),Object(u.jsx)("li",{id:"ogjwagrcqyvf4xcphg64","data-theme":"https://res.cloudinary.com/dlm1qwk4g/image/upload/v1617284917/ogjwagrcqyvf4xcphg64.jpg",className:"workspace-card workspace-card--2"}),Object(u.jsx)("li",{id:"vg4ti2cc9b23yzyvxkom","data-theme":"https://res.cloudinary.com/dlm1qwk4g/image/upload/v1617284917/vg4ti2cc9b23yzyvxkom.jpg",className:"workspace-card workspace-card--3"}),Object(u.jsx)("li",{id:"epdqoodzp24aecddjcjf","data-theme":"https://res.cloudinary.com/dlm1qwk4g/image/upload/v1617284917/epdqoodzp24aecddjcjf.jpg",className:"workspace-card workspace-card--4"}),Object(u.jsx)("li",{id:"dj3mofltuo74qnjcfsgj","data-theme":"https://res.cloudinary.com/dlm1qwk4g/image/upload/v1617284917/dj3mofltuo74qnjcfsgj.jpg",className:"workspace-card workspace-card--5"}),Object(u.jsx)("li",{id:"hdcfionelybyd10nexrw","data-theme":"https://res.cloudinary.com/dlm1qwk4g/image/upload/v1617284917/hdcfionelybyd10nexrw.jpg",className:"workspace-card workspace-card--6"})]})]}),Object(u.jsx)("button",{className:"btn btn--red btn--add",children:"CREATE WORKSPACE"})]})})]})},V=a(12),E=function(e){var t=e.title,a=e.id,n=e.img;return Object(u.jsxs)(i.b,{to:"/manager-app/workspace/"+a,id:a,className:"workspace-card",children:[Object(u.jsx)("span",{className:"workspace-card__title",children:t}),Object(u.jsx)("img",{src:n,className:"workspace-card__img",alt:"back"})]})},A=function(e){var t=e.workspaces,a=Object(n.useState)(""),r=Object(s.a)(a,2),c=r[0],o=r[1],i=Object(n.useState)(Object(V.a)(t)),l=Object(s.a)(i,2),d=l[0],m=l[1],p=Object(n.useState)(!1),j=Object(s.a)(p,2),f=j[0],O=j[1],x=function(){var e=Object(h.a)(b.a.mark((function e(t){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:O(!0),o(t.target.value);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){m((function(e){return Object(V.a)(t).filter((function(e){return O(!1),e.title.toLowerCase().includes(c.trim())}))}))}),[c,t]),Object(u.jsx)(u.Fragment,{children:Object(u.jsxs)("div",{className:"grid__search",children:[Object(u.jsxs)("div",{className:"search-group",children:[Object(u.jsx)("input",{type:"text",onChange:x,value:c,name:"search",autoComplete:"off",placeholder:"Search...",id:"search",autoFocus:!0,className:"workspace-form__title-input"}),Object(u.jsx)("label",{className:"workspace-form__title-label",htmlFor:"search",children:"Search..."}),!d.length&&Object(u.jsx)("p",{className:"search__fail",children:"ERROR PLACEHOLDER"}),!t.length&&Object(u.jsx)("p",{className:"message-empty",style:{textAlign:"center"},children:"YOU DON'T HAVE A CREATED A WORKSPACE YET"})]}),f&&Object(u.jsx)("div",{className:"grid__workspace",children:Object(u.jsx)("div",{className:"loading",children:Object(u.jsx)("i",{className:"fas fa-sync fa-spin"})})}),Object(u.jsx)("div",{className:"grid__workspace",children:d.map((function(e){return Object(u.jsx)(E,{id:e._id,title:e.title,img:e.img},e._id)}))})]})})},D=function(e){var t=e.workspaces;return Object(u.jsx)("div",{className:"grid__workspace",children:t.map((function(e){return Object(u.jsx)(E,{id:e._id,img:e.img,title:e.title},e._id)}))})},q=function(){return Object(u.jsx)("nav",{className:"sidebar",children:Object(u.jsxs)("ul",{className:"sidebar-nav",children:[Object(u.jsx)(i.c,{exact:!0,to:"/manager-app/home/overview",activeClassName:"router-link-active",className:"sidebar-nav__item",children:Object(u.jsx)("span",{children:"WORKSPACES"})}),Object(u.jsx)(i.c,{to:"/manager-app/home/search",activeClassName:"router-link-active",className:"sidebar-nav__item",children:Object(u.jsx)("span",{children:"FILTER"})}),Object(u.jsx)(i.c,{to:"/manager-app/home/add",activeClassName:"router-link-active",className:"sidebar-nav__item",children:Object(u.jsx)("span",{children:"ADD"})})]})})},R=function(e){var t=e.children;return Object(u.jsx)("div",{className:"dashboard-outlet",children:t})},H=function(e){var t=e.workspaces,a=e.addWorkspace;return Object(u.jsx)(u.Fragment,{children:Object(u.jsx)("div",{className:"section-home",children:Object(u.jsx)("div",{className:"main-dashboard",children:Object(u.jsxs)("div",{className:"main-content-dashboard",children:[Object(u.jsx)(q,{}),Object(u.jsx)(R,{children:Object(u.jsxs)(l.d,{children:[Object(u.jsx)(l.b,{exact:!0,path:"/manager-app/home/overview",component:function(e){return Object(u.jsx)(D,Object(m.a)({workspaces:t},e))}}),Object(u.jsx)(l.b,{exact:!0,path:"/manager-app/home/search",component:function(e){return Object(u.jsx)(A,Object(m.a)({workspaces:t},e))}}),Object(u.jsx)(l.b,{exact:!0,path:"/manager-app/home/add",component:function(e){return Object(u.jsx)(P,Object(m.a)({addWorkspace:a},e))}})]})})]})})})})},F=function(){var e=y().managerHTTP;return{patchUserData:function(){var t=Object(h.a)(b.a.mark((function t(a){var n;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=a,t.next=3,e(n,"users","PATCH");case 3:t.sent;case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),updatePassword:function(){var t=Object(h.a)(b.a.mark((function t(a){var n,r;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=a,t.next=3,e(n,"users/resetPass","PATCH");case 3:r=t.sent,console.log(r);case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),updateProfilePicture:function(){var e=Object(h.a)(b.a.mark((function e(t){var a,n,r,c;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(a=new FormData).append("file",t,t.name),n={method:"POST",body:a,headers:{Authorization:localStorage.getItem("reactBearer")}},e.prev=3,e.next=6,fetch("http://localhost:8000/api/todoApp/v1/upload/users",n);case 6:return r=e.sent,e.next=9,r.json();case 9:return c=e.sent,e.abrupt("return",c);case 13:e.prev=13,e.t0=e.catch(3),console.log(e.t0);case 16:case"end":return e.stop()}}),e,null,[[3,13]])})));return function(t){return e.apply(this,arguments)}}()}},W=function(e){var t=e.classes,a=e.onShow,r=e.onHide,c=e.onContent,o=Object(n.useContext)(g).user,i=Object(n.useState)(!1),l=Object(s.a)(i,2),d=l[0],m=l[1],p=F().patchUserData,f=j({name:o.name,email:o.email,password:""}),O=f.formValues,x=f.handleInputChange,v=f.customValidator,_=O.name,w=O.email,N=O.password,k={value:_,required:!0,minLength:4},C={value:w,required:!0,type:"email",minLength:3},y={value:N,required:!0,minLength:4,maxLength:15},T=function(){var e=Object(h.a)(b.a.mark((function e(t){var n,s;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),v(k)&&v(C)&&v(y)){e.next=4;break}return m(!0),e.abrupt("return");case 4:return n={name:_,email:w,password:N},s={text:"User data updated sucesfully",icon:"far fa-check-circle"},e.prev=6,e.next=9,p(n);case 9:a(),c(s),setTimeout((function(){r()}),1e3),e.next=21;break;case 14:e.prev=14,e.t0=e.catch(6),s.text="Wuops something went wrong",s.icon="fas fa-exclamation-circle",a(),c(s),setTimeout((function(){r()}),1e3);case 21:case"end":return e.stop()}}),e,null,[[6,14]])})));return function(t){return e.apply(this,arguments)}}();return Object(u.jsx)("div",{className:t,children:Object(u.jsxs)("form",{onSubmit:T,className:"profile-form__form",children:[Object(u.jsxs)("div",{className:"profile-form__form__group",children:[Object(u.jsx)("h2",{children:"PROFILE CONTENT"}),Object(u.jsx)("label",{htmlFor:"name",className:"profile-form__form__label",children:"Name"}),Object(u.jsx)("input",{name:"name",id:"name",onChange:x,value:_,type:"text",className:"profile-form__form__input",placeholder:"MR.Patata"}),!v(k)&&d&&Object(u.jsx)("p",{className:"error-form",children:"The name is required"})]}),Object(u.jsxs)("div",{className:"profile-form__form__group",children:[Object(u.jsx)("label",{htmlFor:"email",className:"profile-form__form__label",children:"Email Address"}),Object(u.jsx)("input",{type:"text",className:"profile-form__form__input",placeholder:"patata@gmail.com",id:"email",name:"email",onChange:x,value:w}),!v(C)&&d&&Object(u.jsx)("p",{className:"error-form",children:"The email adress is required"})]}),Object(u.jsxs)("div",{className:"profile-form__form__group",children:[Object(u.jsx)("label",{htmlFor:"password",className:"profile-form__form__label",children:"Password"}),Object(u.jsx)("input",{type:"password",className:"profile-form__form__input",placeholder:"Password",id:"password",name:"password",onChange:x,value:N}),!v(y)&&d&&Object(u.jsx)("p",{className:"error-form",children:"The password  is required"})]}),Object(u.jsx)("div",{className:"profile-form__form__group",children:Object(u.jsx)("button",{className:"btn btn--red",type:"submit",children:"UPDATE"})})]})})},B=function(e){var t=e.classes,a=e.onShow,r=e.onHide,c=e.onContent,o=Object(n.useState)(!1),i=Object(s.a)(o,2),l=i[0],d=i[1],m=F().updatePassword,p=j({password:"",passwordReset:"",passwordConfirm:""}),f=p.formValues,O=p.handleInputChange,x=p.customValidator,v=f.password,_=f.passwordConfirm,g=f.passwordReset,w={value:g,required:!0,minLength:4,maxLength:15},N={value:g,required:!0,minLength:4,maxLength:15},k={value:_,valueCompare:g,required:!0,minLength:4,maxLength:15},C=function(){var e=Object(h.a)(b.a.mark((function e(t){var n,s;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),x(w)&&x(N)&&x(k)){e.next=4;break}return d(!0),e.abrupt("return");case 4:return n={password:v,passwordReset:g,passwordConfirm:_},s={text:"Password Sucesfully updated",icon:"far fa-check-circle"},e.prev=6,e.next=9,m(n);case 9:a(),c(s),setTimeout((function(){r()}),1e3),e.next=21;break;case 14:e.prev=14,e.t0=e.catch(6),s.text="Wuops something went wrong",s.icon="fas fa-exclamation-circle",a(),c(s),setTimeout((function(){r()}),1e3);case 21:case"end":return e.stop()}}),e,null,[[6,14]])})));return function(t){return e.apply(this,arguments)}}();return Object(u.jsx)("div",{className:t,children:Object(u.jsxs)("form",{onSubmit:C,className:"profile-form__form",children:[Object(u.jsxs)("div",{className:"profile-form__form__group",children:[Object(u.jsx)("h2",{children:"RESET PASSWORD"}),Object(u.jsx)("label",{htmlFor:"password",className:"profile-form__form__label",children:"Current Password"}),Object(u.jsx)("input",{name:"password",value:v,onChange:O,type:"password",className:"profile-form__form__input",placeholder:"Password",id:"password"}),!x(w)&&l&&Object(u.jsx)("p",{className:"error-form",children:" The current password is required"})]}),Object(u.jsxs)("div",{className:"profile-form__form__group",children:[Object(u.jsx)("label",{htmlFor:"password",className:"profile-form__form__label",children:"New Password"}),Object(u.jsx)("input",{type:"password",className:"profile-form__form__input",placeholder:"Password",id:"passwordReset",name:"passwordReset",value:g,onChange:O}),!x(N)&&l&&Object(u.jsx)("p",{className:"error-form",children:"The new password  is required"})]}),Object(u.jsxs)("div",{className:"profile-form__form__group",children:[Object(u.jsx)("label",{htmlFor:"passwordConfirm",className:"profile-form__form__label",children:"Confirm Password"}),Object(u.jsx)("input",{type:"password",className:"profile-form__form__input",placeholder:"Confirm Password",name:"passwordConfirm",value:_,onChange:O,id:"passwordConfirm"}),!x(k)&&l&&Object(u.jsx)("p",{className:"error-form",children:"The password confirmation doesnt match with the provided password"})]}),Object(u.jsx)("div",{className:"profile-form__form__group",children:Object(u.jsx)("button",{className:"btn btn--red",type:"submit",children:"UPDATE PASSWORD"})})]})})},U=function(e){var t=e.classes,a=e.onShow,r=e.onHide,c=e.onContent,s=Object(n.useContext)(g).user,o=F().updateProfilePicture,i=Object(n.useRef)(null),l={backgroundImage:'url("'.concat(s.img?s.img:L,'")'),backgroundSize:"cover",backgorundPosition:"center",borderRadius:"50%"},d=function(){var e=Object(h.a)(b.a.mark((function e(t){var n,l,u;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.target.files){e.next=22;break}return(n=new FileReader).readAsDataURL(t.target.files[0]),n.onload=function(e){i.current.src="".concat(e.target.result)},l={text:"Picture sucessfully updated",icon:"far fa-check-circle"},e.prev=5,e.next=8,o(t.target.files[0]);case 8:u=e.sent,s.img=u.url,a(),c(l),setTimeout((function(){r()}),1e3),e.next=22;break;case 15:e.prev=15,e.t0=e.catch(5),l.text="Wuops something went wrong",l.icon="fas fa-exclamation-circle",a(),c(l),setTimeout((function(){r()}),1e3);case 22:case"end":return e.stop()}}),e,null,[[5,15]])})));return function(t){return e.apply(this,arguments)}}();return Object(u.jsxs)("div",{className:t,children:[Object(u.jsx)("div",{ref:i,style:l}),Object(u.jsx)("input",{type:"file",onChange:d,className:"profile-picture__file"}),Object(u.jsx)("i",{className:"fas fa-camera"})]})},M=function(){var e=o(),t=e.showNotificationHandler,a=e.hideNotificationHandler,n=e.notificationContentHandler,r=e.notificationIsShow,c=e.notificationContent;return Object(u.jsxs)(u.Fragment,{children:[r&&Object(u.jsx)(d,{notificationContent:c}),Object(u.jsx)("div",{className:"section-profile",children:Object(u.jsx)("div",{className:"profile-menu",children:Object(u.jsxs)("div",{className:"profile-content",children:[Object(u.jsx)("div",{className:"profile-content-display",children:Object(u.jsx)(U,{onShow:t,onHide:a,onContent:n,classes:"profile-picture"})}),Object(u.jsx)(W,{onShow:t,onHide:a,onContent:n,classes:"profile-form"}),Object(u.jsx)(B,{onShow:t,onHide:a,onContent:n,classes:"profile-form"})]})})})]})},G=function(){var e=y().managerHTTP,t=Object(n.useCallback)(function(){var t=Object(h.a)(b.a.mark((function t(a){var n;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e(null,"todoList/".concat(a),"GET");case 2:if("success"!==(n=t.sent).status){t.next=5;break}return t.abrupt("return",n.todoList);case 5:if("fail"!==n.status){t.next=7;break}throw new Error("There was a problem with the request");case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),[e]),a=function(){var t=Object(h.a)(b.a.mark((function t(a,n){var r,c;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r={name:a,project:n},t.next=3,e(r,"todoList","POST");case 3:if("success"!==(c=t.sent).status){t.next=6;break}return t.abrupt("return",c.newTodoList);case 6:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}(),r=function(){var t=Object(h.a)(b.a.mark((function t(a){return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e(null,"todoList/".concat(a),"DELETE");case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return{getTodoListsById:t,addNewTodoList:a,addNewTodo:function(){var t=Object(h.a)(b.a.mark((function t(a,n){var r,c;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r={todo:a,todoList:n},t.next=3,e(r,"todo","POST");case 3:if("success"!==(c=t.sent).status){t.next=6;break}return t.abrupt("return",c.newTodo);case 6:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}(),updateStatusTodo:function(){var t=Object(h.a)(b.a.mark((function t(a){var n;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e(null,"todo/isDone/".concat(a),"GET");case 2:if("success"!==(n=t.sent).status){t.next=5;break}return t.abrupt("return",n.todoDone.done);case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),deleteToDoList:r,dragAndDropTodo:function(){var t=Object(h.a)(b.a.mark((function t(a,n){return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e(null,"todo/".concat(a,"/").concat(n),"PATCH");case 2:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}()}},z=function(e){var t=e.id,a=e.currValue,r=e.done,c=G().updateStatusTodo,o=Object(n.useState)(r),i=Object(s.a)(o,2),l=i[0],d=i[1],m=function(){var e=Object(h.a)(b.a.mark((function e(){var a;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c(t);case 2:a=e.sent,d(a);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),p=j({todoText:a}),f=p.formValues,O=p.handleInputChange,x=f.todoText;return Object(u.jsxs)("li",{draggable:!0,onDragStart:function(e){e.dataTransfer.setData("text/plain",t),e.dataTransfer.effectAllowed="move"},className:"todoList-card__body__item",children:[Object(u.jsx)("input",{value:x,name:"todoText",onChange:O,id:t,type:"text",className:"todo"}),l&&Object(u.jsx)("i",{onClick:m,className:"far fa-check-square checkbox"}),!l&&Object(u.jsx)("i",{onClick:m,className:"far fa-square done checkbox"})]})},J=function(e){var t=e.onUpdate,a=e.onModalControlHandler,r=e.onSetTodoListID,c=e.id,o=(e.project,e.todos),i=e.titleTodoList,l=G(),d=l.addNewTodo,m=l.dragAndDropTodo,p=Object(n.useState)(o),f=Object(s.a)(p,2),O=f[0],x=f[1],v=function(){var e=Object(h.a)(b.a.mark((function e(t,a){var n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d(t,a);case 2:n=e.sent,x((function(e){return[].concat(Object(V.a)(e),[n])}));case 4:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),_=j({title:i}),g=_.formValues,w=_.handleInputChange,N=g.title,k=Object(n.useRef)(null),C=function(){var e=Object(h.a)(b.a.mark((function e(a){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a.preventDefault(),!(k.current.value.trim().length>2)){e.next=7;break}return e.next=4,v(k.current.value,c);case 4:return e.next=6,t();case 6:k.current.value="";case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),y=Object(n.useRef)(null),T=function(){var e=Object(h.a)(b.a.mark((function e(a){var n,r;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return null===(n=y.current)||void 0===n||n.classList.remove("drop-drop"),r=a.dataTransfer.getData("text/plain"),e.next=4,t();case 4:return e.next=6,m(r,c);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(u.jsxs)("div",{ref:y,"data-id":c,className:"todoList-card card-grid",onDragOver:function(e){var t;e.dataTransfer&&"text/plain"===e.dataTransfer.types[0]&&(e.preventDefault(),null===(t=y.current)||void 0===t||t.classList.add("drop-drop"))},onDragLeave:function(e){var t;e.dataTransfer&&"text/plain"===e.dataTransfer.types[0]&&(e.preventDefault(),null===(t=y.current)||void 0===t||t.classList.remove("drop-drop"))},onDrop:T,children:[Object(u.jsxs)("div",{className:"todoList-card__head",children:[Object(u.jsx)("input",{type:"text",onChange:w,value:N,name:"name",className:"todoList-card__head__title"}),Object(u.jsx)("i",{onClick:function(){a(),r(c)},className:"fas fa-trash-alt"})]}),Object(u.jsx)("ul",{className:"todoList-card__body",children:0!==O.length&&O.map((function(e){return Object(u.jsx)(z,{id:e._id,done:e.done,currValue:e.todo},e._id)}))}),Object(u.jsx)("div",{className:"todoList-card__add__item",children:Object(u.jsxs)("form",{onSubmit:C,children:[Object(u.jsxs)("div",{className:"add-wrap",children:[Object(u.jsx)("input",{ref:k,placeholder:"Add Todo",type:"text",autoFocus:!0,className:"todoList-card__add-item__input"}),Object(u.jsx)("span",{className:"fas fa-pencil-alt"})]}),Object(u.jsx)("button",{className:"btn btn--todoList",type:"submit",children:"Add Task"})]})})]})},K=function(e){var t=e.onClose,a=e.onDeleteTodoList;return Object(u.jsxs)(n.Fragment,{children:[Object(u.jsx)("div",{onClick:t,className:"overlay"}),Object(u.jsx)("div",{className:"modal",children:Object(u.jsxs)("div",{className:"modal-content",children:[Object(u.jsx)("div",{className:"modal-close",children:Object(u.jsx)("i",{children:"X"})}),Object(u.jsx)("div",{className:"modal__title",children:Object(u.jsx)("h3",{className:"modal__heading",children:"Are you sure about this?"})}),Object(u.jsx)("div",{className:"modal__body",children:Object(u.jsx)("p",{children:"Lorem ipsum dolor, sit amet consectetur adipisicing elit. Cumque exercitationem vero veritatis. Ducimus dolore harum, tempore facere error fugit accusamus."})}),Object(u.jsxs)("div",{className:"modal__button",children:[Object(u.jsx)("button",{onClick:a,className:"btn modal__button--confirm",children:"CONFIRM"}),Object(u.jsx)("button",{onClick:t,className:"btn modal__button--cancel",children:"CANCEL"})]})]})})]})},Y=function(e){var t=e.workspaces,a=G().deleteToDoList,r=Object(n.useState)(),c=Object(s.a)(r,2),o=c[0],i=c[1],d=Object(l.h)().workspaceID,m=G(),p=m.getTodoListsById,j=m.addNewTodoList,f=Object(n.useRef)(null),O=Object(n.useState)([]),x=Object(s.a)(O,2),v=x[0],_=x[1],g=Object(n.useState)(),w=Object(s.a)(g,2),N=w[0],k=w[1],C=Object(V.a)(t).find((function(e){return e._id===d})),y={backgroundImage:"url('".concat(null===C||void 0===C?void 0:C.img,"')"),backgroundSize:"cover",bacgroundPosition:"top"},T=Object(n.useState)(!1),S=Object(s.a)(T,2),L=S[0],I=S[1],P=function(){I(!L)},E=function(){var e=Object(h.a)(b.a.mark((function e(){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a(N);case 2:_((function(e){return Object(V.a)(e.filter((function(e){return e._id!==N})))})),P();case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),A=function(){return new Promise((function(e,t){e(i(!o))}))},D=function(){var e=Object(h.a)(b.a.mark((function e(t){var a;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j(f.current.value,d);case 2:(null===(a=e.sent)||void 0===a?void 0:a.todos)||(a.todos=[]),_((function(e){return[].concat(Object(V.a)(e),[a])}));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),q=function(){var e=Object(h.a)(b.a.mark((function e(t){var a,n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),!((null===(a=f.current)||void 0===a?void 0:a.value.trim().length)<2)){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,D(null===(n=f.current)||void 0===n?void 0:n.value);case 5:f.current.value="";case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){function e(){return(e=Object(h.a)(b.a.mark((function e(){var t;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p(d);case 2:t=e.sent,_((function(e){return t}));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[d,p,o]),Object(u.jsxs)(u.Fragment,{children:[L&&Object(u.jsx)(K,{onClose:P,onDeleteTodoList:E}),Object(u.jsx)("div",{className:"section-workspace",style:y,children:Object(u.jsxs)("div",{className:"todoList-wrapper",children:[v.map((function(e){return Object(u.jsx)(J,{onUpdate:A,onModalControlHandler:P,onSetTodoListID:k,id:e._id,titleTodoList:e.name,todos:e.todos.length?e.todos:[],project:e.project},e._id+e.todos.length)})),Object(u.jsxs)("form",{onSubmit:q,className:"add__card",children:[Object(u.jsx)("input",{ref:f,type:"text",placeholder:"Add a new list"}),Object(u.jsx)("button",{className:"add__card__button",type:"submit",children:"NEW LIST"})]})]})})]})},X=function(e){var t=e.location;console.log(t.pathname),localStorage.setItem("lastPath",t.pathname);var a=Object(n.useContext)(T),r=a.onGetWorkspaces,c=a.workspaces,s=a.onCreateWorkspaces;return Object(n.useEffect)((function(){r()}),[r]),Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)(I,{}),Object(u.jsxs)(l.d,{children:[Object(u.jsx)(l.b,{exact:!0,path:"/manager-app/profile",component:M}),Object(u.jsx)(l.b,{path:"/manager-app/workspace/:workspaceID",component:function(e){return Object(u.jsx)(Y,{workspaces:c})}}),Object(u.jsx)(l.b,{path:"/manager-app/home",component:function(e){return Object(u.jsx)(H,Object(m.a)({workspaces:c,addWorkspace:s},e))}})]})]})},Q=function(e){e.onShowNotification;var t=e.notificationIsShow,a=e.notificationContent,r=Object(n.useContext)(g),c=r.isLoggedIn,s=r.onCheckToken;return Object(n.useEffect)((function(){return s(),function(){}}),[s]),Object(u.jsxs)(i.a,{children:[t&&Object(u.jsx)(d,{notificationContent:a}),Object(u.jsxs)(l.d,{children:[!c&&Object(u.jsx)(l.b,{path:"/auth",component:C}),Object(u.jsxs)(S,{children:[c&&Object(u.jsx)(l.b,{path:"/manager-app",component:X}),c?Object(u.jsx)(l.a,{to:"".concat(localStorage.getItem("lastPath"))}):Object(u.jsx)(l.a,{to:"/auth/login"})]})]})]})},Z=function(){var e=o(),t=e.notificationContent,a=e.notificationIsShow,n=e.showNotificationHandler,r=e.hideNotificationHandler,c=e.notificationContentHandler;return Object(u.jsx)(w,{onShowNotification:n,onHideNotification:r,onNotificationContent:c,children:Object(u.jsx)(Q,{onShowNotification:n,notificationIsShow:a,notificationContent:t})})};c.a.render(Object(u.jsx)(Z,{}),document.getElementById("root"))}},[[39,1,2]]]);
//# sourceMappingURL=main.8830c514.chunk.js.map